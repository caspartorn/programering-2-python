<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Tic-Tac-Toe</title>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io("http:localhost:3000");
      socket.on("message", (msg) => {
        const messages = document.getElementById("messages");
        const p = document.createElement("p");
        p.textContent = msg;
        messages.appendChild(p);
      });

      socket.on("updateboard", (board) => {
        const cells = document.querySelectorAll(".cell");
        board.foreach((mark, index) => {
          cells[index].textContent = mark || "";
        });
      });

      function makeMove(index) {
        socket.emit("move", index);
      }
    </script>
  </head>
  <body>
    <h1>Tic-Tac-Toe</h1>
    <div id="messages"></div>
    <div
      id="board"
      style="display: grid; grid-template-columns: repeat(3, 100px); gap: 5px"
    >
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(0)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(1)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(2)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(3)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(4)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(5)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(6)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(7)"
      ></div>
      <div
        class="cell"
        style="width: 100px; height: 100px; border: 1px solid black"
        onclick="makeMove(8)"
      ></div>
    </div>
  </body>
</html>
